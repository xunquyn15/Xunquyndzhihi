loadstring(game:HttpGet(("https://raw.githubusercontent.com/daucobonhi/Ui-Redz-V2/refs/heads/main/UiREDzV2.lua")))()

       local Window = MakeWindow({
         Hub = {
         Title = "MấtQuyềnTruyCập ",
         Animation = "TikTok: Mất Quyền truy cập "
         },
        Key = {
        KeySystem = false,
        Title = "Key System",
        Description = "",
        KeyLink = "",
        Keys = {"1234"},
        Notifi = {
        Notifications = true,
        CorrectKey = "Running the Script...",
       Incorrectkey = "The key is incorrect",
       CopyKeyLink = "Copied to Clipboard"
      }
    }
  })

       MinimizeButton({
       Image = "http://www.roblox.com/asset/?id=139609947559921",
       Size = {60, 60},
       Color = Color3.fromRGB(10, 10, 10),
       Corner = true,
       Stroke = false,
       StrokeColor = Color3.fromRGB(255, 0, 0)
      })
      
------ Tab
     local Tab1o = MakeTab({Name = "Script Farm"})
     local Tab2o = MakeTab({Name = "Script FarmV2"})
------- BUTTON
    
    AddButton(Tab1o, {
     Name = "FarmBoss On/off ",
    Callback = function()
	  local Settings = {
  JoinTeam = "Pirates"; -- Pirates/Marines
  Translator = true; -- true/false
  -- AutoFamBoss.lua - LocalScript
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

local autofamValue = player:WaitForChild("AutoFamEnabled") -- BoolValue từ UI
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")

local bossName = "FAM BOSS"
local chestName = "Chest" -- Tên rương drop ra sau khi boss chết
local offsetY = 5
local currentBoss = nil
local attacking = false

-- Tìm boss sống gần nhất
local function findNearestAliveBoss()
	local nearest = nil
	local shortestDist = math.huge

	for _, model in pairs(workspace:GetChildren()) do
		if model:IsA("Model") and model.Name == bossName then
			local hum = model:FindFirstChildOfClass("Humanoid")
			local root = model:FindFirstChild("HumanoidRootPart")
			if hum and root and hum.Health > 0 then
				local dist = (hrp.Position - root.Position).Magnitude
				if dist < shortestDist then
					nearest = model
					shortestDist = dist
				end
			end
		end
	end

	return nearest
end

-- Làm boss đứng im (client-side)
local function freezeBoss(boss)
	local root = boss:FindFirstChild("HumanoidRootPart")
	if root then
		root.Anchored = true
	end
end

-- Tự đánh (khi có tool)
local function attackBoss()
	local tool = char:FindFirstChildOfClass("Tool")
	if tool and not attacking then
		attacking = true
		tool:Activate()
		wait(0.3)
		attacking = false
	end
end

-- Tự nhặt rương (bay đến và chạm)
local function tryCollectChest()
	for _, chest in pairs(workspace:GetChildren()) do
		if chest:IsA("Part") and chest.Name == chestName then
			local dist = (hrp.Position - chest.Position).Magnitude
			if dist < 50 then
				-- Bay đến rương
				hrp.CFrame = CFrame.new(chest.Position + Vector3.new(0, 3, 0))
				wait(0.2)
			end
		end
	end
end

-- Vòng lặp chính
RunService.RenderStepped:Connect(function()
	if not autofamValue.Value then return end

	char = player.Character or player.CharacterAdded:Wait()
	hrp = char:FindFirstChild("HumanoidRootPart")
	if not hrp then return end

	-- Nếu không có boss hiện tại hoặc boss chết → tìm mới
	if not currentBoss or not currentBoss:FindFirstChildOfClass("Humanoid") or currentBoss:FindFirstChildOfClass("Humanoid").Health <= 0 then
		tryCollectChest() -- thử nhặt rương nếu có
		currentBoss = findNearestAliveBoss()
		if not currentBoss then return end
	end

	-- Bay lên đầu boss
	local bossRoot = currentBoss:FindFirstChild("HumanoidRootPart")
	if bossRoot then
		local targetPos = bossRoot.Position + Vector3.new(0, offsetY, 0)
		hrp.CFrame = CFrame.new(targetPos)
		hrp.Velocity = Vector3.zero
		freezeBoss(currentBoss)
		attackBoss()
	end
end)

}

loadstring(game:HttpGet("https://raw.githubusercontent.com/realredz/BloxFruits/refs/heads/main/Source.lua"))(Settings)
  end
  })
  
  AddButton(Tab1o, {
     Name = "xunquyn15",
    Callback = function()
	  local Settings = {
  JoinTeam = "Pirates"; -- Pirates/Marines
  Translator = true; -- true/false
}

loadstring(game:HttpGet("https://raw.githubusercontent.com/realredz/BloxFruits/refs/heads/main/Source.lua"))(Settings)
  end
  })